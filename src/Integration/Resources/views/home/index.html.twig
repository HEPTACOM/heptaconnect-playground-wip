<!doctype html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>HEPTAconnect</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
          crossorigin="anonymous">
</head>

<body class="align-items-center d-flex flex-column vh-100">

<div class="toast-container position-fixed bottom-0 end-0 p-3">
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="toast align-items-center text-bg-{{ label }} border-0">
                <div class="d-flex">
                    <div class="toast-body">{{ message }}</div>
                    <button class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                </div>
            </div>
        {% endfor %}
    {% endfor %}
</div>


<div class="align-items-center container d-flex flex-grow-1">
    <div class="w-100 row">
        <div class="col-12">
            <div class="bg-body-tertiary border p-5 rounded-5 text-center">
                <img src="/heptaconnect-logo.png" class="mb-3" style="width: 60px" alt="HEPTAconnect Logo">

                <h1 class="text-body-emphasis">HEPTAconnect Playground</h1>

                <p class="col-lg-8 mx-auto fs-5 text-muted">
                    Your new playground project is ready to go.<br>
                    Inspect the available portals and start an exploration.
                </p>

                <div class="d-inline-flex gap-2">
                    <a href="https://www.heptaconnect.io/" target="_blank" class="btn btn-primary px-5">
                        Read the Documentation
                    </a>
                </div>
            </div>
        </div>

        <div class="col-6">
            <div class="bg-body-tertiary border p-5 mt-3 rounded-5 text-center">
                <h3 class="text-body-emphasis">Demo-Portal: AmiiboAPI</h3>

                <p class="mx-auto text-muted">
                    The portal <code>niemand-online/heptaconnect-portal-amiibo</code> is installed for demonstration
                    purposes. It connects to <a href="https://amiiboapi.com/" target="_blank">https://amiiboapi.com/</a>
                    and reads its items as products.
                </p>

                <div class="d-inline-flex gap-2">
                    {% set href = path('api.heptaconnect.exploration', {
                        portalNodeId: 'amiibo',
                        entityType: 'Heptacom\\HeptaConnect\\Dataset\\Ecommerce\\Product\\Product'
                    }) %}

                    <a href="{{ href }}" class="btn btn-primary px-5">
                        Start exploration
                    </a>
                </div>
            </div>
        </div>

        <div class="col-6">
            <div class="bg-body-tertiary border p-5 mt-3 rounded-5 text-center">
                <h3 class="text-body-emphasis">Demo-Portal: Dumper</h3>

                <p class="mx-auto text-muted">
                    A local portal implementation to showcase some features of HEPTAconnect.
                    This portal will receive product entities and store them in the portal-storage.
                    You can list the dumped products in the browser.
                </p>

                <div class="d-inline-flex gap-2">
                    {% set href = path('api.heptaconnect.http.handler', {
                        portalNodeId: 'dumper',
                        path: 'products/list'
                    }) %}

                    <a href="{{ href }}"
                       class="btn btn-primary px-5">
                        List of dumped products
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container">
    <div class="border-top py-2 mt-2 text-center text-muted">
        HEPTAconnect v{{ version }} (PHP v{{ constant('PHP_VERSION') }})
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"
        nonce="{{ app.request.attributes.get('_cspNonce') }}"></script>

<script type="application/javascript" nonce="{{ app.request.attributes.get('_cspNonce') }}">
    (function () {
        'use strict';

        Array.prototype.forEach.call(
            document.getElementsByClassName('toast'),
            toast => (new bootstrap.Toast(toast)).show()
        );
    })();
</script>

</body>
</html>
